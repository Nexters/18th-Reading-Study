# 30장 데이터베이스는 세부사항이다

DB 는 엔티티가 아님 ( = 저수준)

아키텍트 구성 요소로 끌어올릴 수 없음

# __관계형 데이터베이스

관계형 데이터베이스는 데이터를 저장하고 접근하는데 탁월한 기술

하지만 그저 기술일 뿐

데이터를 테이블의 행 형태로 둔다는 거 아키텍처의 외부(원 바깥)에서만 알아야 함

테이블과 행이 객체 형태로 시스템 여기 저기에 있는 건 잘못된 설계

# __데이터베이스 시스템은 왜 이렇게 널리 사용되는가?

디스크가 주 이유

하지만 디스크는 시간 지연이 큼. 이를 완화하기 위해

1.  색인, 캐시, 쿼리 계획 최적화가 필요
2. 데이터를 표현하는 일종의 표준 방식도 필요

시간이 지나면서 파일 시스템, 관계형 DB 관리 시스템으로 분류됨

파일 시스템

1. 문서 전체를 자연스럽고 편리하게 저장하는 방법 제공
2. 이름을 기준으로 저장, 조회 시 잘 동작
3. 내용을 기준으로 검색 시엔 도움이 되지 않음

DB 시스템

1. 내용을 기반으로 레코드를 자연스럽고 편리하게 찾는 방법 제공1 
2. 서로 공유하는 내용에 기반해 다수의 레코드를 연관(join) 하는 데 탁월
3. 정형화되지 않은 문서를 저장하고 검색하는 데는 부적합

# __디스크가 없다면 어떻게 될까?

디스크는 RAM 으로 대체되고 있음

(연결리스트, 트리, 해시테이블, 스택, 큐)

이미 우리는 데이터가 DB 나 파일 시스템에 있더라도 RAM 으로 읽어 위 개념을 사용하고 있음

데이터를 파일이나 테이블 형태로 두는 경우는 거의 없음

# __세부사항

DB 는 한낱 매커니즘에 불과

아키텍처 입장에서 DB 의 존재를 알면 안됨

# __하지만 성능은?

저수준 관심사

1. 데이터 저장소 측면에서 보는 성능은, 업무 규칙과는 분리될 수 있음
2. 데이터 저장소에서 데이터를 빠르게 넣고 뺄 수 있어야 하는 건 맞지만 이는 저수준 관심사

결론 : 성능은 시스템의 전반적인 아키텍처와는 아무런 관련이 없음

# __개인적인 일화

관계형 DB 를 도입해야한다고 주장한 어느 마케팅 담당자 (사유는 마케팅)

관계형 DB 를 도입해야한다고 주장한 어느 하드웨어 엔지니어 (사유는 기술적인 이유)

공학적인 부분에선 관계형 DB 도입이 나쁘지만, 고객의 부분에서는 관계형 DB 를 무지성으로 원함

DB 업체에서 실시한 마케팅 캠페인
→ 기업의 데이터 자산은 `보호할 필요`가 있으며 자신의 DB 시스템은 이러한 보호를 약속함

# __결론

DB 는 세부사항이며 아키텍처 관점에선 중요하지 않음

# 31장 웹은 세부사항이다

모든 전산 능력을 `중앙 서버`에 두는 방식과 `단말(디바이스)`에 두는 방식의 괴리

메타

1. 모든 연산 능력이 서버 팜에 위치하고, 브라우저는 수동적인 역할만 수행
2. 애플릿을 추가하여 동적인 내용을 웹에 추가하다가 서버로 다시 옮김
3. Ajax 와 js 를 이용해 처리과정의 많은 부분을 웹으로 옮김
4. Node.js 로 다시 웹의 js 영역을 서버로 옮김

(몇 번을 왔다갔다 하는거니)

# __끝없이 반복하는 추

웹이 있기 전에는 클라이언트-서버 아키텍처가 존재

연산 능력을 어디에 둘 것인지는 지속된 난제였음

갑자기 웹이 나오면서 이는 심화됨

진동 뭐시기 등의 내용이 있었지만 결론은 업무 규칙은 UI 로부터 분리되어야 함

# __요약

웹 = GUI = 세부사항 = 입출력 장치

UI 와 애플리케이션 사이에는 추상화가 가능한 또 다른 경계가 존재함

- 업무 로직은 다수의 유스케이스로 구성
- 각 유스케이스는 사용자를 대신해 일부 함수를 수행함
- 각 유스케이스는 입력 데이터, 수행 처리 과정, 출력 데이터를 기반으로 기술

완전한 입력 데이터와 그에 따른 출력 데이터는 데이터 구조로 만들어 
유스케이스 처리 과정의 입력, 출력 값으로 사용할 수 있음

→ 각 유스케이스가 장치 독립적인 방식으로 UI 라는 입출력 장치를 동작시킨다고 간주할 수 있음

# __결론

웹은 핵심업무 로직에서 분리된 경계 바깥에 두어야하는 입출력장치
