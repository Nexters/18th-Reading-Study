# JavaScript 에 대해서

- [자바스크립트 엔진](#자바스크립트-엔진)
- [자바스크립트 엔진들이 자바스크립트 코드를 기계어로 만들기까지의 공통적으로 수행하는 과정](#자바스크립트-엔진들이-자바스크립트-코드를-기계어로-만들기까지의-공통적으로-수행하는-과정)
- [추상 구문 트리](#추상-구문-트리)
- [바이트 코드](#바이트-코드)
- [JIT-컴파일-또는-동적-번역](#JIT-컴파일-또는-동적-번역)

<br/>

## Contants

---

### 자바스크립트 엔진

- 엔진을 브라우저나 Node.js 를 통하지 않고 직접 엔진 자체를 사용해보고 싶다면 **jsvu** 를 통해 각 엔진의 최신 버전을 설치할 수 있다.

<br/>
<br/>

### 자바스크립트 엔진들이 자바스크립트 코드를 기계어로 만들기까지의 공통적으로 수행하는 과정

1. JavaScript source code
2. parser (JavaScript Engine)
3. Abstract Syntax Tree (추상 구문 트리)
4. bytecode (인터프리터에 의해서) => 자바스크립트로 작성된 코드를 실제로 엔진이 실행하는 부분

<br/>
<br/>

### 추상 구문 트리

- 프로그래밍 언어로 작성된 소스 코드의 추상 구문 구조의 트리이다.
- 이 트리의 각 노드는 소스 코드에서 발생되는 구조체를 나타낸다.
- 구문이 추상적이라는 의미는 실제 구문에서 나타나는 모든 세세한 정보를 나타내지는 않는다는 것을 의미.
- 프로그램 코드의 구조를 표현하는 프로퍼티.
- 컴파일러의 구문 분석 단계의 결과물

<br/>
<br/>

### 바이트 코드

- 특정 하드웨어가 아닌 가상 컴퓨터에서 돌아가는 실행 프로그램을 위한 이진 표현법.
- 하드웨어가 아닌 소프트웨어에 의해 처리되기 때문에, 보통 기계어보다 더 추상적이다.

<br/>
<br/>

### JIT-컴파일-또는-동적-번역

- 프로그램을 실제 실행하는 시점에 기계어로 번역하는 컴파일 기법.
- 프로그램의 실행 속도를 빠르게 하기 위해 사용.

## 개관
자바스크립트는 단일 쓰레드(Single-Threaded) 이고 콜백 큐(Callback queue)를 이용한다.

## 자바스크립트 엔진
* 자바스크립트 엔진 중 유명한 V8 엔진
* V8 엔진은 크롬과 Node.js 에서 사용
* JS / Memory Heap / Call Stack 
* 메모리 힙(Memory Heap) - 메모리 할당이 이루어지는 곳
* 콜 스택(Call Stack) - 코드가 실행되면서 스택 프레임이 쌓이는 곳

## 런타임
* 자바스크립트의 엔진이 중요하긴 하지만, 엔진만으로 모든 것이 이루어지는 것은 아니다. 브라우저가 제공하는 웹 API 라는 것도 있어서 DOM, AJAX, _setTimeout_  등이 여기 포함 된다.

## 콜스택 
* 자바스크립트는 싱글쓰레드(Single-Threaded) 프로그래밍 언어, 다시 말하면 콜스택이 하나라는 뜻이고, 한 번에 하나의 일만 할 수 있다.
* 콜스택은 기본적으로 우리가 프로그램의 어디에 있는지를 기록하는 자료구조.
* 우리가 함수 안으로 들어가는 순간 해당 함수를 스택의 제일 위에 놓게 된다.
* 함수에서 돌아오면 스택의 가장 윗 부분의 것이 제거 된다.
* 콜스택에서 함수가 호출되는 각 시점을 스택 프레임 이라고 부른다.
* 스택 트레이스란 기본적으로 예외가 발생했을 때 콜 스택의 상태.
* 스택 날림 : 콜 스택의 최대 크기에 다다랐을 때, 나타난다.
* 자바스크립트는 콜스택이 하나이다, 그러면 특정 코드 실행이 늦어지면 어떤일이 벌어질까?

## 동시성과 이벤트 루프
만약 콜스택 내에 수행시간이 긴 함수가 있다면 어떤 일이 벌어질까? 예를 들어 브라우저의 자바스크립트로 복잡한 이미지를 변형해야 한다면? 또는 콜 스택 내의 많은 작업을 수행하면서 꽤 긴 시간 동안 응답이 없다면?

UI를 막지 않고 브라우저가 응답없음 상태에 빠지제 하지 않으면서도 무거운 코드를 수행하려면 어떻게 해야 할까?

해결책은 **비동기 콜백(Asynchronous Callbacks)** 이다.
