> p297-340

### 9. 웹 최적화 트렌드



**웹 최적화의 역사**

HTTP 프로토콜이 처음 만들어졌을 때 웹 사이트에 게시된 콘텐츠는 대부분 텍스트였다. 초기 HTTP 버전은 텍스트 메시지를 효과적으로 전송하는 데 목적이 있었다. 그때는 아날로그 전화선을 사용한 인터넷의 데이터 전송 속도가 50Kbps 미만이었기 때문에 텍스트만으로 이루어진 웹 사이트의 로딩 속도도 그리 빠르지 않았다.

이후 웹 기술들이 발전하고, 일반 텍스트보다 풍부해진 정보들을 보내기 위해 HTTP/1이 만들어졌다. 텍스트와 이미지들이 장식되면서 기업들은 로딩 속도를 개선하는 백엔드 인프라에 투자를 시작했다. 이 시기에는 주로 서버 용량 증설이나 웹 서버 등 소프트웨어 성능 개선에 집중되었다. HTTP/1.1에도 연결 효율화를 위한 Keep-Alive, 데이터 분할 전송을 위한 Chunked encoding, byte-range 기능, 브라우저 캐시를 위한 메커니즘 등이 추가됐다.

2000년대에 들어서면서 글로벌 기업들이 웹 사이트 로딩 속도를 개선시키는 연구를 진행했다. 오늘날 비즈니스에는 사용자 경험이 매우 강조된다. 웹 리소스들을 처리하는 프런트엔드 최적화에 중점을 두어야 한다.



**모바일 기기의 등장과 모바일 사이트 최적화**

모바일과 데스크톱 사용자의 사이트 경험을 동일하게 만들기 위해 반응형 웹 기술이 적용됐다. 데스크톱에서 나타나는 커다란 이미지들을 모바일 기기에도 동일하게 다운로드하니, 모바일 기기에서 사이트 로딩이 크게 느려졌다. 이를 해결하기 위해 미디어 쿼리, `<picture>` 태그, srcset 속성 등을 이용해 사용자 기기에 따라 다른 크기의 리소스들을 다운로드하도록 했다. SPA 관련 기술들도 여기에 해당한다. 그러나 브라우저에서 수행되는 자바스크립트들이 무거워져 초기 다운로드와 구동 시 시간이 걸릴 수 있는 단점이 있다.

또는 서버 측에서 접속자의 환경을 미리 파악하여 최적화된 리소스들을 만들어 내려주는 방법이 있다. 사이트의 성격에 따라 다른 접근법을 사용하는 것을 권장한다. 예약 사이트나 장바구니, 결제 페이지처럼 기능이 강조되거나 페이지의 일부분이 변경되는 사이트에는 SPA 접근법이 적절하다. 이미지나 동영상 등 시각적인 부분이 강조되고, 다음 페이지로 이동할 때마다 전체 페이지가 다시 로딩되어야 하는 경우에는 서버측 접근법이 더 효율적이다.



**PWA**

스마트폰의 네이티브 앱에는 여러 장점이 있다. 인터넷 연결이 필수적이지 않고, 기기의 운영 체제와 보다 잘 통합되어 매끄러운 사용자 경험이 가능하다. 반면 모바일 웹에서 제공하는 이점은, 접근이 쉬운 넓은 범용성이다.

흠.. 글쎄...



**AMP**

웹 최적화가 된 웹 컴포넌트들을 제공한다. 타사 리소스들을 무분별하게 추가할 수 없도록 강제한다. 개발자가 복잡하고 어려운 최적화 기법에 더 이상 신경쓰지 않고 사이트 개발에만 집중할 수 있도록 도와주는 프레임워크.

라고 하는데.. 흠... 그냥 넘어가야겠다.



**웹 최적화의 실상**

일반적으로 웹 개발자들은 좋은 환경에서 개발한다. 하지만 사용자의 대부분은 그렇지 않을 수도 있다.



**웹 최적화의 과제**

1. 웹 사이트의 정확한 성능을 알아야 한다.

모든 사용자의 성능 정보를 수집하고, 수집한 데이터의 평균값만 사용할 게 아니라 75분위, 95분위 사용자들의 로딩 속도와 지연 원인도 파악해야 한다. 어느 나라, 어떤 브라우저에서 웹 로딩 지연이 발생하는지 파악하고 결과를 바탕으로 개선해야 한다.

새롭게 인터넷에 접속하는 사용자들을 Next Billion Users(NBU)라고 하며 그들의 구매력을 중요시 여긴다. 아시아 저소득층 국가들. 데스크톱보다 모바일을 선호할 것, 저비용 저품질의 인터넷망 사용, 데이터 요금에 민감한 이슈를 유의해야한다.

2. 자바스크립트를 최소화한다.

웹 사이트에 필요한 전체 기능 개수를 줄인다, 가능한 많은 기능을 서버 측에 전가한다.

3. 맞춤형 최적화를 수행한다.

서버측 반응형 웹(Responsive Design with Server-Side Component, RESS), Client Hints 등의 기술이 발전할 것.


