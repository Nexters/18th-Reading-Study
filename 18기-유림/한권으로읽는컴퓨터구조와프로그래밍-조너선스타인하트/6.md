6장. 입출력과 네트워킹 - 컴퓨터는 외부와 어떻게 상호작용하는가



출력을 위한 래치, 입력을 위한 트라이스테이트 버퍼. 이 두 가지와 I/O장치의 핀이 연결되고 CPU가 이 모든 연결을 직접 조작하던 때도 있었다.

샘플링: 아날로그 데이터를 컴퓨터가 쓸 수 있는 디지털 형태로 바꾸는 것, 혹은 그 역방향



- 저수준 I/O

I/O 포트에서

DDR: 데이터 방향 레지스터 - 입력(0)이거나 출력(1)임을 결정한다.

PORT: 출력 데이터 저장 래치



버튼 누르기

pull-up 저항

버튼이 눌리지 않은 경우, 저항이 프로세서의 인터럽트 요청(IRQ) 핀에 연결된 선의 전압을 끌어올려 논리를 HIGH로 만듦

버튼이 눌린 경우, 회로나 IRQ가 타지 않게 전류를 제한하여 논리를 LOW로 만듦

이때 접촉면이 불안정해 인터럽트가 여러번 발생하는 것을 바운스라고 한다.



디바운스

유한 임펄스 응답(큐)에 새 값을 넣으면서 값을 시프트하고, 배열 원소의 OR값으로 상태를 만든다. current를 입력으로 넣고, 기존 current는 previous로 옮긴다. 두 값을 XOR하면 어떤 버튼 상태가 바뀌었는지 알 수 있다.

