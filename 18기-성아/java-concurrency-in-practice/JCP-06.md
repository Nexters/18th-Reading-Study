## 작업 실행

- 병렬 프로그래밍을 하기 위해서는  Task을 나누는 게 중요하다.
- 작업은 독립적인 동작이여야 한다. 다른 작업의 상태, 결과, 부수 효과 등에 영향을 받지 않아야 한다.
- 부하가 발생했을 때 점진적으로 성능을 저하시켜야 한다.
- 일반적으로 서버에서는 클라이언트 요청을 작업의 단위로 설정한다.
- 작업을 순차적으로 실행
    - 작업이 오래 걸릴 경우 요청을 받지 못한다.
    - 하드웨어 자원을 제대로 활용하지 못한다.
- 작업마다 스레드를 생성
    - 스레드를 많이 생성했을 때 문제
        - 스레드 라이프 사이클 문제
            - 생성하고 제거하는 데 자원을 소모한다.
            - 생성에 일정 시간도 필요하다.
        - 자원 낭비
            - 프로세서보다 많은 수의 스레드를 만들어서 생성하면 대기 상태에 있는 스레드가 많아진다. 대기 상태의 스레드는 메모리 낭비이다.
        - 안전성 문제
            - 스레드 개수 제한이 있다.
- 스레드 풀을 사용해 스레드 수를 제한해서 작업을 처리한다.
    - 바운디드 큐 (BlockingQueue) 와 동작 원리 유사
    - 작업을 수행할 때 Thread보다 Executor가 추상화가 잘됐고 사용하기 좋다.
    - Executor 구조는 프로듀서-컨슈머 패턴에 기반한다.
        - Producer/Consumer vs Publisher/Subscriber
    - 작업 등록과 작업 실행이 분리되있다.
