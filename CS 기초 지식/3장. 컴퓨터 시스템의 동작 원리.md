# 3장. 컴퓨터 시스템의 동작 원리

### 1. 컴퓨터 시스템의 구조

---

- 컴퓨터 내부장치(CPU, 메모리)
- 컴퓨터 외부장치(디스크, 키보드, 마우스, 모니터, 네트워크 장치)

컴퓨터는 외부장치에서 내부장치로 데이터를 읽어와 각종 연산을 수행한 후, 그 결과를 외부장치로 다시 내보내는 방식으로 업무를 처리함

이를 대표적인 입출력이라고 할 수 있으며, 따라서 컴퓨터 외부장치를 입출력 장치라고도 부름



### 2. CPU 연산과 I/O 연산

---

컴퓨터에서 연산을 한다는 것은 CPU가 무언가 일을 한다는 뜻

각 장치마다 이를 제어하기 위해 설치된 장치 컨트롤러는 장치로부터 들어오고 나가는 데이터를 임시로 저장하기 위한 작은 메모리를 가지고 있음 -> 로컬버퍼

디스크나 키보드에서 데이터를 읽어오는 경우, 컨트롤러가 장치에서 로컬버퍼로 데이터를 저장하고 인터럽트를 발생시켜 CPU에 보고함



### 3. 인터럽트의 일반적 기능

----

운영체제 개발자는 운영체제가 해야 할 일들을 미리 프로그래밍해서 커널 내에 포함시킴

그 중 하나가 인터럽트 처리루틴. 

인터럽트에는 하드웨어 인터럽트, 소프트웨어 인터럽트(트랩)가 있음

인터럽트가 발생했음을 알려주는 방식은 둘 다 동일함

하드웨어 인터럽트는 컨트롤러등 하드웨어 장치가 CPU의 인터럽트 라인을 세팅,

소프트웨어 인터럽트는 소프트웨어가 그 일을 수행함(ex. 예외상황, 시스템 콜)



### 4. 인터럽트 핸들링

---

인터럽트 핸들링이란 인터럽트가 발생한 경우에 처리해야 할 일의 절차를 의미

CPU에서 명령이 실행될 때, CPU 내부에 있는 임시 기억장치인 레지스터에 데이터를 읽거나 쓰면서 작업을 하는데, 인터럽트가 발생해 새로운 명령을 실행하면 기존의 레지스터값들이 지워지므로 CPU 내의 상태를 저장해두어야 함.

저장은 프로세스 제어블록(PCB)에 하며, 인터럽트 처리가 끝나면 저장된 상태를 PCB로부터 CPU상에 복원함

오늘날의 컴퓨터에서 운영체제는 인터럽트가 발생할 때만 실행됨



### 5. 입출력 구조

---

입출력 방식에는 동기식 입출력과 비동기식 입출력이 있음

동기식 입출력 : 어떤 프로그램이 입출력 요청을 했을 때 입출력 작업이 완료된 후에야 그 프로그램이 후속 작업을 수행할 수 있는 방식 -> 자원 낭비

동기식 입출력에서는 입출력 요청의 동기화를 위해 장치별로 큐(queue)를 두어 요청한 순서대로 처리할 수 있도록 함