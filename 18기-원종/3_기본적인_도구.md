# 3. 기본적인 도구

모든 장인들은 기본적인 훌륭한 도구를 몇 개 갖고 자신의 여정을 시작한다. 각 도구에는 저마다의 개성과 까다로운 면이 있을 것이기에 그에 걸맞게 다루어야 한다. 도구 각각은 고유의 방식으로 날카롭게 다듬어야 하고, 또 고유의 방식으로 손에 쥐어야 한다. 도구는 재능을 증폭한다. 도구가 더 훌륭하고, 그걸 어떻게 사용하는지 더 잘 알수록, 여러분은 더 생산적일 수 있다.

많은 신참 프로그래머들은 예컨대 특정 통합 개발 환경(IDE)같은 전동도구 하나만 고집하는 실수를 저지르고, 그 편한 인터페이스에서 떠날 생각을 하지 않는다. 이건 정말 실수다. IDE가 강제하는 편리함의 울타리 바깥에서도 능숙하게 작업할 수 있어야 한다.

## 14. 일반 텍스트의 힘

일반 텍스트란 사람이 직접 읽고 이해할 수 있는 형태의 인쇄 가능한 문자로 이루어진 테스트를 말한다. XML, SGML, HTML은 잘 정의된 구조를 가진 일반 텍스트의 훌륭한 예다. 일반 텍스트는 보통 구현에서 직접적으로 유도되는 이진 코딩보다 더 고차원적일 때가 많다.
대부분의 이진 포맷이 가진 문제는 데이터를 이해하는 데에 필요한 맥락이 데이터 자신으로부터 분리되어 있다는 점이다. 데이터와 의미를 인위적으로 절연하는 것이다. 데이터는 암호화될 수도 있다. 그러면 해당 데이터는 그걸 해석하는 어플리케이션 로직 없이는 아무런 의미도 없어지게 된다. 하지만 일반 텍스트를 사용하면 그걸 생성하는 어플리케이션에 상관없이 어떤 의미인지 자명한 데이터 흐름(stream)을 얻을 수 있다.

### 텍스트의 힘

사용자가 더 많은 공간을 차지하게 혹은 더 느리게 같은 기능을 요구하는 경우는 그다지 많지 않은 것 같은데 일반 텍스트로 고생을 하는 이유는 뭘까?

- 구식이 되는 것에 대한 보험 : 사람이 읽을 수 있는 형태의 데이터와 자명한 데이터는 어떤 다른 형태의 데이터와 그걸 생성한 어플리케이션보다 더 오래 살아남을 것이다.
- 호환성 : 소스코드 관리 시스템, 컴파일러 환경, 에디터, 단독으로 사용되는 필터에 이르기까지 컴퓨팅 세계의 거의 모든 도구들은 일반 텍스트를 다룰 수 있다.
- 더 쉬운 테스트 : 만약 시스템 테스트를 구동하게 할 합성 데이터를 만들기 위해 일반 텍스트를 사용한다면, 특별한 도구를 만들어야 할 필요 없이 간단히 테스트 데이터를 추가, 업데이트, 수정할 수 있다.

### 유닉스 철학

유닉스는 작고 예리한 각각의 도구가 한 가지 일만 잘 하도록 만들자는 철학에 따라 설계된 것으로 유명하다. 이 철학은 라인 중심의 일반 텍스트 파일을 기반 포맷으로 공유하기 때문에 가능하다. 시스템 관리를 위해 사용되는 데이터베이스는 모두 일반 텍스트 파일로 저장된다.

시스템이 고장났을 때, 복구를 위해서는 최소한의 환경밖에 사용할 수 없는 경우가 있다. 이런 상황에서 여러분은 일반 텍스트의 단순함에 고마움을 느끼게 될 것이다.

## 15. 조개 놀이

텍스트 파일을 다루는 프로그래머에겐 명령어 셸이 작업대가 된다. 셸 프롬프트의 모든 종류의 도구를 불러 쓸 수 있다. 파이프를 이용해 원 개발자가 결코 꿈꾸지 못할 방식으로 도구를 결합시키면서 파일을 결합할 수 있고, 시스템의 상태를 알아볼 수 있으며, 출력을 필터링할 수 있다. 또한 셸을 프로그래밍해서 자주 수행하는 활동에 쓸 복잡할 매크로 명령을 만들 수도 있다.

몇 가지 예시를 보자

- Makefile 보다 더 최근에 수정된 모든 .c 파일을 찾아라

    ```bash
    find . -name '*.c' -newer Makefile -print
    ```

- 소스의 zip/tar 아카이브를 만들어라

    ```bash
    zip archive.zip *.h *.c
    // 또는
    tar cvf archive.tar *.h *.c
    ```

- 지난 주 중에 변경되지 않은 자바 파일은 어느 것들인가

    ```bash
    find . -name '*.java' -mtime +7 -print
    ```

여기에 나온 셸 명령들은 이해하기 어렵거나 너무 불친절해 보일지도 모르겠지만, 이것들은 강력하고 간결하다. 그리고 셸 명령어들을 결합해서 스크립트 파일을 만들 수 있기 때문에, 여러분이 자주 하는 일을 일련의 명령어로 자동화 할 수 있다. 셸에 익숙해지면 생산성이 급상승하는 걸 알게 될 것이다.
