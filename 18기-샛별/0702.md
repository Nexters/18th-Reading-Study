# 27장 배열
> 모던 자바스크립트 딥다이브 504p~
## 27.5 배열 요소의 참조

- 배열은 사실 **인덱스를 나타내는 문자열**을 **프로퍼티 키**로 갖는 객체
- 존재하지 않는 요소 참조 -> `undefined` 반환 (희소배열도 동일)

## 27.6 배열 요소의 추가와 갱신

- 존재하지 않는 인덱스를 사용해 값을 할당하면 새로운 요소 추가, length는 자동 갱신
- 현재 length보다 큰 인덱스로 추가 시 희소 배열이 됨
- 명시적으로 값을 할당하지 않은 요소는 생성되지 않음
- 인덱스는 반드시 0 이상의 정수 또는 정수 형태의 문자열을 사용
- 정수 이외의 값을 인덱스처럼 사용하면 **프로퍼티가 생성**됨

## 27.7 배열 요소의 삭제

- 배열은 객체이기 때문에 `delete` 연산자를 사용할 수 있지만 이때 배열은 희소 배열이 될 수 있으며 length 프로퍼티 값은 변하지 않음 -> `delete` 사용하지 말자!
- 배열 요소를 삭제할 때는 `Array.prototype.splice` 메소드를 사용하자

```javascript
Array.prototype.splice(삭제를 시작할 인덱스, 삭제할 요소 수)
```

## 27.8 배열 메서드

- 배열 메서드는 결과물을 반환하는 패턴이 두 가지
    1. 원본 배열을 직접 변경 `mutator`
    2. 새로운 배열을 생성하여 반환 `accessor` -> 가급적 변경하지 않게!

```javascript=
const arr = [1, 2, 3, 4, 2];
Array.isArray(arr); // a가 배열이면 true, 아니면 false 반환
arr.indexOf(2); // 첫 번째로 검색된 요소 인덱스 반환, 없으면 -1 반환
[NaN].indexOf(NaN) !== -1; // false
arr.includes(요소 값, 시작 인덱스); // 요소가 존재하면 true, 아니면 false
arr.push(5); // 인수로 전달받은 모든 값을 원본 배열의 마지막 요소로 추가, length 반환
// arr = [1, 2, 3, 4, 2, 5];
// 마지막 요소로 추가할 요소가 하나라면 length 프로퍼티를 사용하여 직접 추가 (빠름)
arr[6] = 6;
// arr = [1, 2, 3, 4, 2, 5, 6];
arr.pop(); // 마지막 요소를 제거하고 제거한 요소 반환, 비어있으면 undefined 반환
// arr = [1, 2, 3, 4, 2, 5];
arr.unshift(9, 10); // 인수로 받은 값을 원본의 선두에 추가하고 length 반환
// arr = [9, 10, 1, 2, 3, 4, 2, 5, 6];
arr.shift(); // 첫 번째 요소 제거하고 제거한 요소 반환
// arr = [10, 1, 2, 3, 4, 2, 5, 6];
const arr1 = [1, 2];
const arr2 = [3, 4];
arr1.concat(arr2); // 배열2를 배열1의 마지막 요소로 추가한 새로운 배열 반환
arr.splice(sart, deleteCount, items)
// (원본 배열의 요소를 제거하기 시작할 인덱스, start부터 제거할 요소의 개수, 제거한 위치에 삽입할 요소들의 목록)
arr.slice(start, end) // 인수로 전달된 범위의 요소를 복사하여 배열로 반환 -> 얕은 복사
// (복사를 시작할 인덱스, 복사를 종료할 인덱스)
arr1.join(); // -> '1, 2' 모든 요소를 문자열로 반환한 후 인수(구분자)로 연결
arr1.join(''); // -> '12' 기본 구분자는 콤마
arr2.reverse(); // 원본 배열의 순서를 뒤집은 배열 반환, 원본도 변경
// arr2 -> [4, 3];
arr2.fill(0); // -> [0, 0];
// 인수로 전달받은 값을 배열의 처음부터 끝까지 채움, 원본 변경
[1, [2, 3, 4, 5]].flat(); // [1, 2, 3, 4, 5] 인수로 전달한 깊이 만큼 평탄화
// 기본 값은 1, ES10 도입
```

- 원본을 변경하는 메서드를 사용하는 대신 ES6의 스프레드 문법을 일관성 있게 사용하자

## 27.9 배열 고차함수

- 고차 함수 : **함수를 인수로 전달받**거나 **함수를 반환**하는 **함수**
- 자바스크립트의 함수는 일급 객체이므로 함수를 값처럼 전달할 수 있고 반환할 수 있음
- 고차 함수는 외부 상태의 변경이나 가변 데이터를 피하고 불변성을 지향하는 함수형 프로그래밍에 기반
- 함수형 프로그래밍은 조건문과 반복문을 제거, 변수 사용 억제 -> 순수 함수를 통해 부수 효과를 최대한 억제