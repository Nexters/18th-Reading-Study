# 역할, 책임, 협력

객체 지향에서 가장 중요한 것은 혁할, 책임, 협력이다.

## 협력
### 영화 예매 시스템 돌아보기

- 협력
    - 객체들이 기능 구현을 위해 수행하는 상호작용
- 책임
    - 객체가 협력에 참여하기 위해 수행하는 롲기
- 역할
    - 협력 안에서 객체가 수행하는 책임을 모은 것
    
### 협력

- 메시지 전송
    - 객체 사이의 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단
- 메시지를 수신한 객체는 메서드를 실행해 요청에 응답한다.
    - 외부 객체는 오직 메시지만 전송할 수 있다.
    - 메시지를 어떻게 처리할지는 수신한 객체가 직접 결정한다.
    
Screening이 Movie를 직접 참조해 요금을 계산하면 Movie는 수동적인 존재가 되며 내부 구현에 직접 접근하면서 캡슐화를 깨게 된다.

### 협력이 설계를 위한 문맥을 결정한다

- 협력이 객체의 행동을 결정한다.
    - 협력이 바뀌면 객체가 제공하는 행동도 바뀐다.
    
Movie라는 단어는 일반적으로 영화를 상영하는 것을 상상하므로 play()같은 행동을 예상할 것이다. 하지만 이 프로젝트에서는 영화 예매를 위한 협력을 하고 있으므로 이 협력이 Movie의 행동을 결정한다.

- 행동이 객체의 상태를 결정한다.
    - 객체가 행동을 수행할 때 필요로 하는 정보를 함께 가지고 있어야 한다.
    
Movie가 fee와 discountPolicy를 가지고 있는 이유는 요금 게산이라는 행동을 할 때 이 정보가 필요하기 때문이다.

- 협력은 객체를 설계하는 데 필요한 일종의 문맥을 제공한다.
    - 객체가 참여하는 협력이 객체를 구성하는 행동과 상태를 결정한다.
    
## 책임
### 책임이란 무엇인가

- 협력
    - 협력에 참여하기 위해 객체가 수행하는 행동
    
객체의 책임은 하는 것과 아는 것으로 나눌 수 있다.

- 하는 것
    - 객체를 생성하거나 계산을 수행하는 등 스스로 하는 것
    - 다른 객체의 행동을 시작시키는 것
    - 다른 객체의 활동을 제어하고 조절하는 것
- 아는 것
    - 사적인 정보에 관해 아는 것
    - 관련된 객체에 관해 아는 것
    - 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것
    
Screening은 영화 예매라는 책임을 가지고 있고 따라서 자신이 상영할 영화를 알고 있어야 한다. 즉, 아는 것과 관련된 책임을 가지고 있어야 한다.

객체는 자신의 책임을 수행하는 데 필요한 정보를 알고 있을 책임과 자신이 할 수 없는 작업을 도와줄 객체를 알고 있을 책임이 있다.